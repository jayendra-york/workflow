
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>N8N Bazar Landing Page</title>
    <script>
window.markerConfig = {
              project: '66c70a4bc69f538671fe255f',
              source: 'snippet'
            };
          !function(e,r,a){if(!e.__Marker){e.__Marker={};var t=[],n={__cs:t};["show","hide","isVisible","capture","cancelCapture","unload","reload","isExtensionInstalled","setReporter","setCustomData","on","off"].forEach(function(e){n[e]=function(){var r=Array.prototype.slice.call(arguments);r.unshift(e),t.push(r)}}),e.Marker=n;var s=r.createElement("script");s.async=1,s.src="https://edge.marker.io/latest/shim.js";var i=r.getElementsByTagName("script")[0];i.parentNode.insertBefore(s,i)}}(window,document);
</script>
</head>
    <body>

<style>
  .zip-sync-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 60px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    z-index: 10000;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    font-size: 14px;
    line-height: 1.4;
  }
  
  .zip-sync-header-left {
    display: flex;
    align-items: center;
    gap: 15px;
  }
  
  .zip-sync-header-logo {
    font-weight: 600;
    font-size: 16px;
  }
  
  .zip-sync-header-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  
  .zip-sync-header-project-name {
    font-weight: 500;
    font-size: 14px;
  }
  
  .zip-sync-header-version {
    font-size: 12px;
    opacity: 0.8;
  }
  
  .zip-sync-lock-btn {
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: white;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  
  .zip-sync-lock-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
  }
  
  .zip-sync-lock-icon {
    width: 14px;
    height: 14px;
  }
  
  /* Add top margin to body to account for fixed header */
  body {
    margin-top: 60px !important;
  }
  
  /* Override any existing body margin-top */
  body[style*="margin-top"] {
    margin-top: 60px !important;
  }
</style>

<div class="zip-sync-header" id="zip-sync-header">
  <div class="zip-sync-header-left">
    <div class="zip-sync-header-logo">âš¡ ZipSync</div>
    <div class="zip-sync-header-info">
      <div class="zip-sync-header-project-name" id="zip-sync-project-name">Loading...</div>
      <div class="zip-sync-header-version" id="zip-sync-project-version">v0.0.0</div>
    </div>
  </div>
  <button class="zip-sync-lock-btn" onclick="toggleProjectLock()">
    <svg class="zip-sync-lock-icon" fill="currentColor" viewBox="0 0 20 20">
      <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
    </svg>
    Lock
  </button>
</div>

<script>
  // ZipSync Header functionality
  (function() {
    let isLocked = false;
    
    // Function to toggle project lock
    window.toggleProjectLock = function() {
      isLocked = !isLocked;
      const lockBtn = document.querySelector('.zip-sync-lock-btn');
      const lockIcon = document.querySelector('.zip-sync-lock-icon');
      
      if (isLocked) {
        lockBtn.innerHTML = `
          <svg class="zip-sync-lock-icon" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2v2H9.5V8a3.5 3.5 0 017 0z" clip-rule="evenodd"></path>
          </svg>
          Unlock
        `;
        lockBtn.style.background = 'rgba(239, 68, 68, 0.2)';
        lockBtn.style.borderColor = 'rgba(239, 68, 68, 0.3)';
        
        // Add overlay to prevent interactions
        const overlay = document.createElement('div');
        overlay.id = 'zip-sync-lock-overlay';
        overlay.style.cssText = `
          position: fixed;
          top: 60px;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.3);
          z-index: 9999;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
          font-size: 18px;
          font-weight: 500;
          backdrop-filter: blur(2px);
        `;
        overlay.innerHTML = 'ðŸ”’ Project is locked for editing';
        document.body.appendChild(overlay);
      } else {
        lockBtn.innerHTML = `
          <svg class="zip-sync-lock-icon" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
          </svg>
          Lock
        `;
        lockBtn.style.background = 'rgba(255, 255, 255, 0.2)';
        lockBtn.style.borderColor = 'rgba(255, 255, 255, 0.3)';
        
        // Remove overlay
        const overlay = document.getElementById('zip-sync-lock-overlay');
        if (overlay) overlay.remove();
      }
    };
    
    // Function to fetch and display project info
    async function loadProjectInfo() {
      try {
        // Extract project ID from URL - this will work for most hosting scenarios
        const currentUrl = window.location.href;
        console.log('Current URL:', currentUrl);
        
        // Try to extract project ID from various possible URL patterns
        let projectId = null;
        
        // Pattern 1: /apps/projectId/build/
        const appsMatch = currentUrl.match(/\/apps\/([^/]+)\/(?:build|dist)\//);
        if (appsMatch) {
          projectId = appsMatch[1];
        }
        
        // Pattern 2: Look for project ID in the path
        const pathParts = window.location.pathname.split('/');
        const projectIndex = pathParts.findIndex(part => part === 'apps' || part === 'projects');
        if (projectIndex >= 0 && pathParts[projectIndex + 1]) {
          projectId = pathParts[projectIndex + 1];
        }
        
        console.log('Detected project ID:', projectId);
        
        if (projectId) {
          // Determine the API base URL
          let apiBaseUrl = '';
          if (currentUrl.includes('localhost')) {
            apiBaseUrl = 'http://localhost:5000';
          } else {
            // For production, use the same origin but port 5000 or determine dynamically
            const urlObj = new URL(currentUrl);
            apiBaseUrl = `${urlObj.protocol}//${urlObj.hostname}:5000`;
          }
          
          const response = await fetch(`${apiBaseUrl}/api/projects/${projectId}/info`);
          if (response.ok) {
            const projectInfo = await response.json();
            document.getElementById('zip-sync-project-name').textContent = projectInfo.name;
            document.getElementById('zip-sync-project-version').textContent = `v${projectInfo.version}`;
          } else {
            console.warn('Failed to fetch project info:', response.status);
          }
        } else {
          console.warn('Could not determine project ID from URL');
        }
      } catch (error) {
        console.error('Error loading project info:', error);
      }
    }
    
    // Load project info when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadProjectInfo);
    } else {
      loadProjectInfo();
    }
  })();
</script>
      <div id="root"></div>
      <script type="module" src="/src/main.tsx"></script>
    </body>
  </html>
  